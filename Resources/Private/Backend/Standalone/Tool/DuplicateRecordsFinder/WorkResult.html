<style>
	ul{
		list-style-type: none;
	}
</style>


<div class="navbar navbar-fixed-top">
	<div class="navbar-typo3">
		<div class="navbar navbar-fixed-top">
			<div class="navbar-typo3">
				<div class="container-fluid navbar-typo3-top">
					<div>
						<div class="row-fluid">
							<div class="span6">
							</div>
							<div class="span6">
							</div>
						</div>
					</div>
				</div>
				<div class="container-fluid navbar-typo3-bottom">
					<div>
						<div class="row-fluid">
							<div class="span6">
								<v:link.back/>
							</div>
							<div class="span6">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="container" style="padding-left: 10px;">

	<h4>Duplicate records</h4>

	<f:for each="{duplicateRecordsReports}" as="report">

		<div style="font-weight: bold; margin-bottom: 10px">{report.storage.name} ({report.storage.uid})</div>

		<f:if condition="{report.duplicateFiles}">
			<f:then>
				<div class="alert alert-error">
					Duplicate {report.numberOfDuplicateFiles} file(s)!
				</div>

				<ul>
					<f:for each="{report.duplicateFiles}" key="identifier" as="records">
						<li>* Uids
							<f:for each="{records}" as="record" iteration="iterator">
								{record.uid}
								<f:if condition="{iterator.isLast}">
									<f:then></f:then>
									<f:else>,</f:else>
								</f:if>
							</f:for>
							having same identifier <strong>{identifier}</strong>.
						</li>
					</f:for>
				</ul>

				Consider fixing the problem!

				<hr/>
			</f:then>
			<f:else>
				<div class="alert alert-success">
					Everything seems fine.
				</div>
			</f:else>
		</f:if>
	</f:for>


</div>

{namespace v=Fab\Vidi\ViewHelpers}